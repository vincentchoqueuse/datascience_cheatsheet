import{_ as s,o as a,c as n,a as l}from"./app.b29be83a.js";const F=JSON.parse('{"title":"Pattern maching","description":"","frontmatter":{},"headers":[{"level":2,"title":"Matching on case classes","slug":"matching-on-case-classes","link":"#matching-on-case-classes","children":[]},{"level":2,"title":"Matching on type","slug":"matching-on-type","link":"#matching-on-type","children":[]},{"level":2,"title":"Pattern guards","slug":"pattern-guards","link":"#pattern-guards","children":[]}],"relativePath":"scala/advanced/patternmatching.md"}'),o={name:"scala/advanced/patternmatching.md"},p=l(`<h1 id="pattern-maching" tabindex="-1">Pattern maching <a class="header-anchor" href="#pattern-maching" aria-hidden="true">#</a></h1><p>Scala uses the keywords <code>match</code> and <code>case</code> as well as the <code>=&gt;</code> notation to achieve pattern matching. A pattern matching block is evaluated as any other block, hence it have a return value and type.</p><p><em>NB: the <code>_</code> case is used as the default case.</em></p><div class="language-scala"><button title="Copy Code" class="copy"></button><span class="lang">scala</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">writtenInt</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">Int</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    x </span><span style="color:#89DDFF;font-style:italic;">match</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">one</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">two</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">three</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">other</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">println(writtenInt(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">))      </span><span style="color:#676E95;font-style:italic;">// prints &quot;one&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">println(writtenInt(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">))      </span><span style="color:#676E95;font-style:italic;">// prints &quot;three&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">println(writtenInt(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">))      </span><span style="color:#676E95;font-style:italic;">// prints &quot;other&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="matching-on-case-classes" tabindex="-1">Matching on case classes <a class="header-anchor" href="#matching-on-case-classes" aria-hidden="true">#</a></h2><p>Case classes are especially useful for pattern matching as their class members can be extracted directly.</p><div class="language-scala"><button title="Copy Code" class="copy"></button><span class="lang">scala</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">sealed</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">abstract</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Message</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Email</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">sender</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;">, </span><span style="color:#A6ACCD;font-style:italic;">title</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;">, </span><span style="color:#A6ACCD;font-style:italic;">body</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Message</span></span>
<span class="line"><span style="color:#89DDFF;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SMS</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">caller</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;">, </span><span style="color:#A6ACCD;font-style:italic;">message</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Message</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">printMessage</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">m</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">Message</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Unit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    m </span><span style="color:#89DDFF;font-style:italic;">match</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Email</span><span style="color:#A6ACCD;">(sender, title, body) </span><span style="color:#89DDFF;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            println(</span><span style="color:#89DDFF;">s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">From: &lt;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sender</span><span style="color:#C3E88D;">&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">) </span></span>
<span class="line"><span style="color:#A6ACCD;">            println(</span><span style="color:#89DDFF;">s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Subject: </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            println(body) </span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SMS</span><span style="color:#A6ACCD;">(caller, message) </span><span style="color:#89DDFF;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            println(</span><span style="color:#89DDFF;">s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">caller</span><span style="color:#C3E88D;">: </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">printMessage(</span><span style="color:#FFCB6B;">Email</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">alice@gmail.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">News from Australia</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hi Bob, [...], see you soon!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">printMessage(</span><span style="color:#FFCB6B;">SMS</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Bob</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hi Alice, thanks for the mail!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre></div><p>Outputs:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">From: &lt;alice@gmail.com&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">Subject: &lt;News from Australia&gt;     </span></span>
<span class="line"><span style="color:#A6ACCD;">Hi Bob, [...], see you soon!  </span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Bob: Hi Alice, thanks for the mail!</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="matching-on-type" tabindex="-1">Matching on type <a class="header-anchor" href="#matching-on-type" aria-hidden="true">#</a></h2><p>Scala lets you matching on type only:</p><p><em>NB: the <code>_</code> used in the example bellow is not the same as seen previously. It only means that we do not care about the instance matched.</em></p><div class="language-scala"><button title="Copy Code" class="copy"></button><span class="lang">scala</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sendNotification</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">m</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">Message</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Unit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    m </span><span style="color:#89DDFF;font-style:italic;">match</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">Email</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> println(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">You received a mail</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">_</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">SMS</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> println(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">You received a SMS</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="pattern-guards" tabindex="-1">Pattern guards <a class="header-anchor" href="#pattern-guards" aria-hidden="true">#</a></h2><p>Pattern guards are boolean expressions which are used to make cases more specific. Just add <code>if &lt;boolean expression&gt;</code> after the pattern.</p><div class="language-scala"><button title="Copy Code" class="copy"></button><span class="lang">scala</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">writtenInt</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">Int</span><span style="color:#A6ACCD;">)(</span><span style="color:#A6ACCD;font-style:italic;">allowOdd</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">Boolean</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    x </span><span style="color:#89DDFF;font-style:italic;">match</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> allowOdd </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">one</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">two</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> allowOdd </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">three</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">other</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">println(writtenInt(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)(</span><span style="color:#89DDFF;">true</span><span style="color:#A6ACCD;">))        </span><span style="color:#676E95;font-style:italic;">// prints &quot;one&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">println(writtenInt(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)(</span><span style="color:#89DDFF;">false</span><span style="color:#A6ACCD;">))       </span><span style="color:#676E95;font-style:italic;">// prints &quot;other&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">println(writtenInt(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)(</span><span style="color:#89DDFF;">false</span><span style="color:#A6ACCD;">))       </span><span style="color:#676E95;font-style:italic;">// prints &quot;other&quot;</span></span>
<span class="line"></span></code></pre></div>`,16),t=[p];function e(c,r,C,y,D,A){return a(),n("div",null,t)}const d=s(o,[["render",e]]);export{F as __pageData,d as default};
